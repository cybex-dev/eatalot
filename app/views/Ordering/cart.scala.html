@import java.util

@import helper._
@import models.Order.{CustomerOrder, Meal, MealOrder}
@import utility.Pair
@(meals: util.List[Pair[MealOrder, Meal]], order: CustomerOrder)

<!DOCTYPE html>

<html>
    <body>
        @**//TODO: (QoL) Add clear all meals button**@
        @if(meals != null && meals.size() == 0){
            <p><i>dust</i></p>
        }else{
            <table>
            @for(x <- 0 until meals.size()) {
                @form(CSRF(controllers.Order.routes.OrderController.removeMealFromOrder(meals.get(x).getObject1.getMealId))) {
                    <tr>
                        <td>Meal</td>
                        <td>Price</td>
                        <td>Status</td>
                    </tr>
                    <tr>
                        <td>@meals.get(x).getObject2.getDescription</td>
                        <td>@meals.get(x).getObject2.getCost</td>
                        <td>$$Status</td>
                    </tr>
                    <tr>
                        <td><img class="image" src="@routes.Assets.versioned("images/menu/" + meals.get(x).getObject2.getImage)"/></td>
                        <td>Quantity: @meals.get(x).getObject1.getOrderQty</td>
                        <td><button type="submit" name="action" value="remove">Remove Meal</button></td>
                    </tr>
                }
            }
            </table>
            <a href="@controllers.Order.routes.OrderController.getSubmitPage()">Submit Cart</a>
        }
    </body>
</html>